{"data":{"markdownRemark":{"html":"<p>There has been a little personal project I've been working on for a couple years on and off. It's not that it's difficult to make. It's just difficult to find time and I need to do some data entry that I find boring so I just put it off. I just work on it when I can to add more data and improve it in little ways. </p>\n<p>The project is for me to have a way to inventory, filter by song or artist through the records I do own. I'd like to have something like this so I can easily find out if I own a particular record. I have a lot and sometimes when shopping I see something I like but then wonder if I already own it or not. There have been several occasions where I have bought a record I already own and then end up with duplicates. This is a waste of money. There are also times when I don't buy and find out I didn't have it and missed out on the purchase.</p>\n<p>I also don't want to show every single record when the page loads. I just want to display 20 and then display 20 more when I click, \"view more\". Mostly I'm going to just use the filter fields and just display the items I'm looking for.</p>\n<p>For the most part everything was in raw JavaScript but I had one function that was using jQuery because I couldn't figure it out in raw JavaScript. It was the displaying 20 more on button click. With jQuery it was a fairly simple task.</p>\n<h2 id=\"here-is-the-function-in-jquery\"><a href=\"#here-is-the-function-in-jquery\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Here is the function in jQuery</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">var songs = document.querySelectorAll(&quot;.artist-song&quot;);\nvar showMore = document.getElementById(&quot;show-more&quot;);\n\n$(function () {\n    $(&#39;#show-more&#39;).click(function() {\n        $(&#39;.artist-song:hidden&#39;).slice(0, 19).show();\n        if ($(&#39;.artist-song&#39;).length === $(&#39;.artist-song:visible&#39;).length) {\n            $(&#39;#show-more&#39;).hide();\n        }\n    });\n});</code></pre></div>\n<p>Basically what is happening here is when the button with the <code class=\"language-text\">#show-more</code> id is clicked, a function will run. It will find the elements with the class <code class=\"language-text\">.artist-song</code> that are hidden. Then it will show the next 20 items. The conditional at the end is to hide the button with the <code class=\"language-text\">#show-more</code> id when all the elements with the <code class=\"language-text\">.artist-song</code> class are visible. The number visible elements are equal to the total number of elements. </p>\n<p>There's a little more here to unpack. jQuery abstracts a bunch what goes on \"under the hood\". Here is what jQuery is doing.</p>\n<ol>\n<li>The <code class=\"language-text\">:hidden</code> selector is a jQuery thing that is determines if an element is hidden by assuming an element is hidden if it doesn't take up any space. </li>\n<li>The slice() method in jQuery, behind the scenes, creates an empty array. Then it loops through the elements to find the <code class=\"language-text\">.artist-songs</code> that are hidden. Then it pushes those hidden elements into the empty array. </li>\n<li>The numbers inside <code class=\"language-text\">slice(0,19)</code> are selecting the first 20 elements (0 in the argument being the start position and 19 being the end position in the array) in that array. The <code class=\"language-text\">show()</code> method attaches style of <code class=\"language-text\">display:block</code> on to those elements.</li>\n<li>Every time the <code class=\"language-text\">#show-more</code> button is clicked, 1-3 will happen until the arguement in the conditional <code class=\"language-text\">$(&#39;.artist-song&#39;).length === $(&#39;.artist-song:visible&#39;).length</code> is true. Then the <code class=\"language-text\">hide()</code> method attaches a style 0f <code class=\"language-text\">display:none</code> to the <code class=\"language-text\">#show-more</code> button. This removes the button because there are no more elements to show.</li>\n</ol>\n<h2 id=\"the-solution-in-raw-javascript\"><a href=\"#the-solution-in-raw-javascript\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The solution in raw JavaScript</h2>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">showMore.addEventListener(&quot;click&quot;, handleClick);\n\nfunction handleClick() {\n  var hiddenSongs = [];\n  for (let i = 0; i &lt; songs.length; i++) {\n    if (songs[i].offsetWidth &lt;= 0 &amp;&amp; songs[i].offsetHeight &lt;= 0) {\n      hiddenSongs.push(songs[i]);\n    }\n  }\n  for (let i = 0; i &lt; 20; i++) {\n    if (hiddenSongs[i]) {\n      hiddenSongs[i].style.display = &quot;block&quot;;\n    } else {\n      showMore.style.display = &quot;none&quot;;\n      break;\n    }\n  }\n  hiddenSongs.length = 0;\n}</code></pre></div>\n<p>The raw JavaScript is doing the same thing as the jQuery version but you see more of what is happening \"under the hood\". Here is what is happening in the raw JavaScript.</p>\n<ol>\n<li>Inside the <code class=\"language-text\">handleClick()</code> function, the first thing to do is create an empty array that is stored in a variable.</li>\n<li>Then loop through all the elements with the <code class=\"language-text\">.artist-songs</code> class. </li>\n<li>If the elements with the <code class=\"language-text\">.artist-songs</code> class are not visible they will be pushed into the hiddenSongs empty array. To determine which ones are not visible, a conditional with the argument <code class=\"language-text\">songs[i].offsetWidth &lt;= 0 &amp;&amp; songs[i].offsetHeight &lt;= 0</code> is created. Then the <code class=\"language-text\">.push()</code> method pushes the hidden elements into the empty array.</li>\n<li>Then run another loop through the hiddenSongs array and attach a style of <code class=\"language-text\">display:block</code> on to the first 20 elements. Once all the elemensts are visible a style 0f <code class=\"language-text\">display:none</code> to the <code class=\"language-text\">#show-more</code> button in order to hide it.</li>\n<li>Then exit the loop.</li>\n<li>Then empty the array</li>\n</ol>\n<h2 id=\"conclusion\"><a href=\"#conclusion\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p>This was a very frustrating task for me but after getting some instruction from a user on <a href=\"https://codepen.io/\">CodePen</a>, I have a better understanding of how the jQuery works and how the JavaScript works too. Every since I started dabbling in web development the second time around (2005), most of my experiences with JavaScript have been through jQuery. It seems more and more, developers are favoring raw JavaScript today and then using that knowledge to get into popular frameworks.</p>\n<p>Here is the pen to illustrate. I want to note this isn't the full project code. This is an abbreviated version to show just enough to illustrate what the function I was having issues with does. </p>\n<p class=\"codepen\" data-height=\"434\" data-theme-id=\"0\" data-default-tab=\"html,result\" data-user=\"rebeccaeilering\" data-slug-hash=\"bzorPb\" style=\"height: 434px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid black; margin: 1em 0; padding: 1em;\" data-pen-title=\"List of Records With Show More on Click\">\n  <span>See the Pen <a href=\"https://codepen.io/rebeccaeilering/pen/bzorPb/\">\n  List of Records With Show More on Click</a> by Rebecca Eilering (<a href=\"https://codepen.io/rebeccaeilering\">@rebeccaeilering</a>)\n  on <a href=\"https://codepen.io\">CodePen</a>.</span>\n</p>\n<script async src=\"https://static.codepen.io/assets/embed/ei.js\"></script>","timeToRead":4,"excerpt":"There has been a little personal project I've been working on for a couple years on and off. It's not that it's difficult to make. It's justâ€¦","frontmatter":{"title":"A Function Translated from jQuery to JavaScript","cover":"https://unsplash.it/1152/300/?random?TheButterflyoftheEdge","date":"02/16/2019","category":"javascript","tags":["jquery","javascript","web development","front end development"]},"fields":{"nextTitle":"Using a Data Attribute in Javascript to Edit a Pseudo-Element","nextSlug":"/using-a-data-attribute-in-javascript-to-edit-a-pseudo-element","prevTitle":"Alt Text Best Practices","prevSlug":"/alt-text-best-practices","slug":"/a-function-translated-from-j-query-to-java-script","date":"2019-02-16T06:00:00.000Z"}}},"pageContext":{"slug":"/a-function-translated-from-j-query-to-java-script"}}