{"data":{"markdownRemark":{"html":"<p>Tables have always been a pain point when it comes to responsive design. They will display nicely (sometimes) on desktop but they become a problem once screens get more narrow. Why are tables a problem? Tables are made up of rows and columns and for the table to stay legible, it needs to keep it's table layout. The problem is the more columns a table has the more room it needs when it comes to width. At some point it runs out of width because a browser window only is so wide. When it comes to desktop there's more width to work with but for mobile there isn't so much. Mobile views tend to be at more of a portrait orientation with a very narrow width. This makes it very difficult to display tables.</p>\n<p>The solution is to change the layout of the table but still make it easy to understand. How to do this? Typically layout issues can be handled with CSS and media queries but we also need JavaScript to deal with some of the text content.</p>\n<p>First the mobile design is to take more of a column layout. The table rows will be stacked into a column. Then inside the row will be each cell that will also be stacked into a column. So then the question is what do we do with the labels? We need to know what the content in the cell is referring to. This is where the JavaScript comes in.</p>\n<p>On mobile devices I want to take the table headings and place it next to the coresponding content in each cell.</p>\n<p>Desktop</p>\n<img src=\"/my-dev-blog/img/table-desktop-1.png\" alt=\"\" />\n<p>Mobile</p>\n<img src=\"/my-dev-blog/img/table-mobile-1.png\" alt=\"\" />\n<p>You may see this in action here on my <a href=\"https://rebeccaeilering.me/style-guide.html\">style guide page</a> on my website.</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">  const headertext = [],\n  headers = document.querySelectorAll(&quot;table th&quot;),\n  tablebody = document.querySelector(&quot;table tbody&quot;);\n  for(let i = 0; i &lt; headers.length; i++) {\n    const current = headers[i];\n    headertext.push(current.textContent.replace(/\\r?\\n|\\r/,&quot;&quot;));\n  } \n  for (let i = 0, row; row = tablebody.rows[i]; i++) {\n    for (let j = 0, col; col = row.cells[j]; j++) {\n      col.setAttribute(&quot;data-th&quot;, headertext[j]);\n    } \n  }</code></pre></div>\n<p>  Let's pick this apart.</p>\n<p>  First I set a variable for an empty array for the text contained in each <code class=\"language-text\">&lt;th&gt;</code> tag. This is called <code class=\"language-text\">headertext</code>.</p>\n<p>  I also set a variable for all the <code class=\"language-text\">&lt;th&gt;</code> elements. These will be in a NodeList if you console.log the variable. I also set put the <code class=\"language-text\">&lt;tbody&gt;</code> element into a variable.</p>\n<p>  Then what I'm going to do is loop through all the <code class=\"language-text\">&lt;th&gt;</code> elements stored in the <code class=\"language-text\">headers</code> variable. This loop is going to grab the text content inside the <code class=\"language-text\">&lt;th&gt;</code> tags and push them into the array called <code class=\"language-text\">headertext</code>. This text is going to be used for the <code class=\"language-text\">data-th</code> data attribute.</p>\n<p>  Next I will loop through all the table's row elements (<code class=\"language-text\">&lt;tr&gt;</code>) and loop through the cell elements (<code class=\"language-text\">&lt;td&gt;</code>) within the <code class=\"language-text\">&lt;tr&gt;</code> elements. This is to set the <code class=\"language-text\">data-th</code> attribute on each <code class=\"language-text\">&lt;td&gt;</code> element and fill it with the text stored in the <code class=\"language-text\">headertext</code> variable.</p>\n<p>  This data attribute is important because it's going to be used in the css. The <code class=\"language-text\">:before</code> pseudo-element on the <code class=\"language-text\">&lt;td&gt;</code> tag's content property is going to be filled in with the text in the <code class=\"language-text\">data-th</code> attribute.</p>\n<div class=\"gatsby-highlight\" data-language=\"css\"><pre class=\"language-css\"><code class=\"language-css\">  table td:before {\n    content: attr(data-th);\n  }</code></pre></div>\n<p>  That's about it. From there, the table may be styled however you wish. I tried to style it so it makes sense and is easy to understand. </p>","timeToRead":3,"excerpt":"Tables have always been a pain point when it comes to responsive design. They will display nicely (sometimes) on desktop but they become aâ€¦","frontmatter":{"title":"Making Tables Responsive","cover":"https://unsplash.it/1152/300/?random?TheButterflyoftheEdge","date":"07/03/2020","category":"javascript","tags":["html","javascript","responsive design","tables","css","data attributes"]},"fields":{"nextTitle":"Report: Midway Through 2020","nextSlug":"/report-midway-through-2020","prevTitle":"Targeting Middle HTML Element","prevSlug":"/targeting-middle-html-element","slug":"/making-tables-responsive","date":"2020-07-03T05:00:00.000Z"}}},"pageContext":{"slug":"/making-tables-responsive"}}