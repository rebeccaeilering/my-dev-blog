{"data":{"markdownRemark":{"html":"<p>I don't use a whole lot of JavaScript on a day-to-day basis. This week was an exception. There were a couple occasions I had to make sure some elements only show on certain pages and creating new templates would be overkill. It would be easier to use the URL to target certain pages and then make changes to the code.</p>\n<p>I want to replace the href and title value of an already existing anchor tag/button. This button is on all the subpages but we need to change the href and title on just a small group of subpages and leave the rest alone.</p>\n<p>My first line of thought is to make a new template with the button that has the new url and title values and then change the template for all the pages. I need to make a new master template and the companion master.vb file. Then since the button is in a widget.ascx file I also need to make a new one of those plus it's companion ascx.vb file. OMG, that's a lot of work and a lot of reapeated code. To change one line of HTML we need four new files and then change the template for nearly 20 pages? This is crazy and super ineffecient.</p>\n<p>I can do what I need to in just a few lines of JavaScript. </p>\n<p>Here's the code (but I'm changing urls, class names and title text so I'm not sharing code that is specific to work projects). On all the pages there is a button to signup to a newsletter. However, for the dog and cat pages there's a different sign up form. All these pages use the same subpage template. None of the HTML code needs to be touched.</p>\n<p>HTML:</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">class</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>sign-up<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span> <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>/animals/newsletter-signup/<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>Sign up for our newsletter<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span>Newsletter Signup<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<p>JavaScript:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">$</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ready</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>href<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"cats\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.sign-up a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>href<span class=\"token punctuation\">:</span> <span class=\"token string\">'/animals/cat-newsletter-signup/'</span><span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">:</span> <span class=\"token string\">'Sign up for our cat newsletter'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>window<span class=\"token punctuation\">.</span>location<span class=\"token punctuation\">.</span>href<span class=\"token punctuation\">.</span><span class=\"token function\">indexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"dogs\"</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">></span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.sign-up a'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">attr</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>href<span class=\"token punctuation\">:</span> <span class=\"token string\">'/animals/dog-newsletter-signup/'</span><span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">:</span> <span class=\"token string\">'Sign up for our dog newsletter'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>So what is happening here?</p>\n<p>First, we have to wait until the document is ready. The DOM is loaded. </p>\n<p>Second, we are looking for a specific part of a URL in the conditional's argument. <code class=\"language-text\">Window.location.href</code> is a DOMstring that contains the entire URL. Adding the <code class=\"language-text\">indexOf()</code> method is going to return the first occurance of the specified value in a string. In this case the value is either going to be cats or dogs. If the method returns a -1, the value doesn't exist. Essentialy <code class=\"language-text\">window.location.href.indexOf(&quot;cats&quot;) &gt; -1</code> is saying if the value of cats exists in the URL then we do something.</p>\n<p>Next, we need to target the element that needs to be changed. We need to change a couple attributes of an anchor tag inside of a div that has the class of <code class=\"language-text\">.sign-up</code>. To do this we use the <code class=\"language-text\">.attr()</code> method.</p>\n<p>If you only want to add or change one attribute value you'd do something like this:\n<code class=\"language-text\">.attr(&#39;href&#39;, &#39;/animals/cats/newsletter-signup/&#39; )</code>\nThe first part, href, is the attribute's name. The second part is the attribute's value.</p>\n<p>If you want to add or change multiple attributes at the same time you put them into an object using curly brackets like so:\n<code class=\"language-text\">.attr({href: &#39;/animals/dogs/newsletter-signup/&#39;, title: &#39;Sign up for our dog newsletter&#39;})</code></p>\n<p>That's really about it. </p>\n<h2 id=\"references\"><a href=\"#references\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>References</h2>\n<p><a href=\"https://api.jquery.com/attr/\">jQuery Docs .attr()</a></p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/indexOf\">indexOf() MDN</a></p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/location\">Window.location MDN</a></p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Location\">Location properties MDN</a></p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/DOMString\">What's a DOMString?</a></p>","timeToRead":3,"excerpt":"I don't use a whole lot of JavaScript on a day-to-day basis. This week was an exception. There were a couple occasions I had to make sureâ€¦","frontmatter":{"title":"Using the URL to Change HTML Attributes","cover":"https://unsplash.it/1152/300/?random?TheButterflyoftheEdge","date":"10/29/2019","category":"javascript","tags":["jquery","attributes","front-end development","web development"]},"fields":{"nextTitle":"Why I Ditched WordPress","nextSlug":"/why-i-ditched-word-press","prevTitle":"The Basics of HTML5 Semanitic Elements","prevSlug":"/the-basics-of-html-5-semanitic-elements","slug":"/using-the-url-to-change-html-attributes","date":"2019-10-29T05:00:00.000Z"}}},"pageContext":{"slug":"/using-the-url-to-change-html-attributes"}}